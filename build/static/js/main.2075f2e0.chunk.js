(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),u=n.n(c),l=n(4),o=n(2),i=function(e){var t=e.filterBy,n=e.persons,a=e.filteredPersons,c=e.handleDelete;return r.a.createElement("ul",null,t?t&&a.length>0?a.map((function(e){return r.a.createElement("li",{key:e.name},e.name," ",e.number)})):r.a.createElement("li",null,"No contacts match your search"):n.map((function(e){return r.a.createElement("li",{key:e.name},e.name," ",e.number,r.a.createElement("button",{className:"button-sm--grey",onClick:function(){return c(e.id)}},"delete"))})))},s=function(e){var t=e.filterBy,n=e.setFilterBy,a=e.persons,c=e.setFilteredPersons;return r.a.createElement("div",{className:"filter"},r.a.createElement("div",null,"filter shown with:",r.a.createElement("input",{type:"text",value:t,onChange:function(e){var t=a.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));n(e.target.value),c(t)}})))},m=function(e){var t=e.addContact,n=e.newName,a=e.setNewName,c=e.newNumber,u=e.setNewNumber;return r.a.createElement("form",{onSubmit:t},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"name:"),r.a.createElement("td",null," ",r.a.createElement("input",{type:"text",value:n,onChange:function(e){return a(e.target.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"number:"),r.a.createElement("td",null,r.a.createElement("input",{type:"text",value:c,onChange:function(e){return u(e.target.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{type:"submit"},"add")),r.a.createElement("td",null)))))},f=n(3),d=n.n(f),b="/api/persons",E=function(){return d.a.get(b).then((function(e){return e.data}))},h=function(e){return d.a.post(b,e).then((function(e){return e.data}))},p=function(e){return d.a.delete(b+"/"+e).then((function(e){return e.data}))},v=function(e,t){return d.a.put("".concat(b,"/").concat(e),t).then((function(e){return e.data}))},w=function(e){var t=e.errorMessage,n=e.successMessage;return r.a.createElement("div",{className:"notifications-wrapper"},n&&r.a.createElement("div",{className:"notification-success"},n),t&&r.a.createElement("div",{className:"notification-error"},t))},N=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(""),f=Object(o.a)(u,2),d=f[0],b=f[1],N=Object(a.useState)(""),y=Object(o.a)(N,2),g=y[0],j=y[1],O=Object(a.useState)(""),k=Object(o.a)(O,2),C=k[0],S=k[1],B=Object(a.useState)([]),D=Object(o.a)(B,2),M=D[0],F=D[1],P=Object(a.useState)(null),x=Object(o.a)(P,2),I=x[0],J=x[1],L=Object(a.useState)(null),T=Object(o.a)(L,2),A=T[0],q=T[1];Object(a.useEffect)((function(){E().then((function(e){c(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"header-brand"},"Phoneb",r.a.createElement("span",null,"oo"),"k"),r.a.createElement(w,{errorMessage:I,successMessage:A}),r.a.createElement(s,{filterBy:C,setFilterBy:S,persons:n,setFilteredPersons:F,successMessage:A,errorMessage:I}),r.a.createElement("div",{className:"container"},r.a.createElement(m,{addContact:function(e){if(n.find((function(e){return e.name===d}))){if(!window.confirm("".concat(d," is already added to phonebook, replace the old number with a new one?")))return e.preventDefault(),b(""),void j("");var t=n.find((function(e){return e.name===d})),a=Object(l.a)(Object(l.a)({},t),{},{number:g}),r=a.id;v(r,a).then((function(e){c(n.map((function(t){return t.id!==r?t:e})))})).catch((function(e){J("Information of ".concat(d," has already been removed from server"))})),e.preventDefault(),b(""),j(""),setTimeout((function(){J(null)}),5e3),E().then((function(e){c(e)}))}else{e.preventDefault(),h({name:d,number:g}).then((function(e){c(n.concat(e)),q("Added ".concat(e.name)),setTimeout((function(){q(null)}),5e3),b(""),j("")}))}},newName:d,newNumber:g,setNewName:b,setNewNumber:j}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(i,{filterBy:C,persons:n,filteredPersons:M,handleDelete:function(e){window.confirm("Do you really want to delete message id# ".concat(e,"?"))&&p(e).then((function(e){E().then((function(e){c(e)}))}))}})))};n(37);u.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.2075f2e0.chunk.js.map